<%- include('../partials/header') %> <!-- Χ›Χ•ΧΧ ΧΧ Χ”ΦΎheader Χ©Χ Χ”Χ“Χ£ (meta, title, Χ§Χ‘Χ¦Χ™ CSS Χ•Χ›Χ•') -->
<%- include('../partials/navbar') %> <!-- Χ›Χ•ΧΧ ΧΧ ΧΧ¤Χ¨Χ™Χ Χ”Χ Χ™Χ•Χ•Χ Χ”Χ¨ΧΧ©Χ™ -->

<!-- β… Χ§Χ™Χ©Χ•Χ¨Χ™Χ ΧΧ§Χ‘Χ¦Χ™ ΧΆΧ™Χ¦Χ•Χ‘ CSS Χ›ΧΧΧ™Χ™Χ -->
<link rel="stylesheet" href="/styles/global.css" /> <!-- ΧΆΧ™Χ¦Χ•Χ‘ Χ›ΧΧΧ™ ΧΧ›Χ Χ”ΧΧΧ¨ -->
<link rel="stylesheet" href="/styles/products.css" /> <!-- ΧΆΧ™Χ¦Χ•Χ‘ Χ©Χ ΧΆΧΧ•Χ“ Χ”ΧΧ•Χ¦Χ¨Χ™Χ -->
<link rel="stylesheet" href="/styles/vip.css"> <!-- ΧΆΧ™Χ¦Χ•Χ‘ ΧΧ‘ΧΧ Χ¨ VIP -->

<!-- π†• Χ‘ΧΧ Χ¨ ΧΧ§Χ΅Χ ΧΆΧ Χ›Χ¤ΧΧ•Χ¨ Χ”Χ¦ΧΧ¨Χ¤Χ•Χ ΧΧΧ•ΧΆΧ“Χ•Χ VIP -->
<section class="vip-text-banner"> <!-- Χ‘ΧΧ Χ¨ ΧΧ§Χ΅ΧΧ™ ΧΧΆΧ•Χ¦Χ‘ ΧΆΧ Χ”Χ Χ—Χ” ΧΧΧ•ΧΆΧ“Χ•Χ VIP -->
  <h2>Χ”Χ¦ΧΧ¨Χ¤Χ• ΧΆΧ›Χ©Χ™Χ• ΧΧΧ•ΧΆΧ“Χ•Χ Χ”ΦΎVIP Χ©ΧΧ Χ•!</h2> <!-- Χ›Χ•ΧΧ¨Χ Χ‘ΧΧ Χ¨ -->
  <p>10% Χ”Χ Χ—Χ” Χ§Χ‘Χ•ΧΆΧ” + 50% Χ‘Χ™Χ•Χ Χ”Χ•ΧΧ“Χ π</p> <!-- ΧΧ™ΧΧ•Χ¨ Χ”Χ”ΧΧ‘Χ•Χ -->
  <a href="/vip" class="vip-cta-btn">ΧΧ”Χ¦ΧΧ¨Χ¤Χ•Χ</a> <!-- Χ›Χ¤ΧΧ•Χ¨ Χ©ΧΧΆΧ‘Χ™Χ¨ ΧΧ“Χ£ VIP -->
</section>

<!-- β… ΧΧ•Χ¤Χ΅ Χ΅Χ™Χ Χ•Χ ΧΧ•Χ¦Χ¨Χ™Χ ΧΧ¤Χ™ Χ§ΧΧ’Χ•Χ¨Χ™Χ” Χ•ΧΧ™Χ•Χ ΧΧ¤Χ™ ΧΧ—Χ™Χ¨ -->
<form method="GET" action="/product" class="product-filters"> <!-- ΧΧ•Χ¤Χ΅ GET ΧΧ΅Χ™Χ Χ•Χ ΧΧ•Χ¦Χ¨Χ™Χ -->
  <label for="category">Χ§ΧΧ’Χ•Χ¨Χ™Χ”:</label> <!-- ΧΧ•Χ•Χ™Χ ΧΧ‘Χ—Χ™Χ¨Χ Χ§ΧΧ’Χ•Χ¨Χ™Χ” -->
  <select name="category" id="category">
    <option value="">Χ”Χ›Χ•Χ</option> <!-- ΧΧ¤Χ©Χ¨Χ•Χ ΧΧ΅Χ™Χ Χ•Χ Χ›ΧΧ Χ”Χ§ΧΧ’Χ•Χ¨Χ™Χ•Χ -->
    <% categories.forEach(cat => { %> <!-- ΧΧΆΧ‘Χ¨ ΧΆΧ Χ”Χ§ΧΧ’Χ•Χ¨Χ™Χ•Χ ΧΧΧ•Χ Χ”ΧΧ΅Χ“ -->
      <option value="<%= cat.cid %>" <%= selectedCategory == cat.cid ? 'selected' : '' %>>
        <%= cat.pname %> <!-- Χ”Χ¦Χ’Χ Χ©Χ Χ”Χ§ΧΧ’Χ•Χ¨Χ™Χ” -->
      </option>
    <% }) %>
  </select>

  <label for="sort">ΧΧ™Χ™Χ ΧΧ¤Χ™:</label> <!-- ΧΧ•Χ•Χ™Χ ΧΧΧ™Χ•Χ -->
  <select name="sort" id="sort">
    <option value="">ΧΧΧ ΧΧ™Χ•Χ</option>
    <option value="price_asc" <%= sort == 'price_asc' ? 'selected' : '' %>>ΧΧ—Χ™Χ¨: ΧΧ”Χ ΧΧ•Χ ΧΧ’Χ‘Χ•Χ”</option>
    <option value="price_desc" <%= sort == 'price_desc' ? 'selected' : '' %>>ΧΧ—Χ™Χ¨: ΧΧ”Χ’Χ‘Χ•Χ” ΧΧ ΧΧ•Χ</option>
  </select>

  <button type="submit">Χ”Χ¦Χ’</button> <!-- Χ›Χ¤ΧΧ•Χ¨ Χ©ΧΧ™Χ—Χ Χ”Χ΅Χ™Χ Χ•Χ -->
</form>

<!-- β… ΧΧ¦Χ•Χ’Χ Χ”ΧΧ•Χ¦Χ¨Χ™Χ -->
<% if (products.length === 0) { %> <!-- ΧΧ ΧΧ™Χ ΧΧ•Χ¦Χ¨Χ™Χ ΧΧ”Χ¦Χ’Χ” -->
  <p class="no-products">ΧΧ™Χ ΧΧ•Χ¦Χ¨Χ™Χ ΧΧ”Χ¦Χ’Χ” Χ›Χ¨Χ’ΧΆ.</p>
<% } else { %>
  <div class="product-grid"> <!-- Χ’Χ¨Χ™Χ“ Χ©Χ Χ›Χ¨ΧΧ™Χ΅Χ™ ΧΧ•Χ¦Χ¨Χ™Χ -->
    <% products.forEach(product => { %> <!-- ΧΧΆΧ‘Χ¨ ΧΆΧ Χ›Χ ΧΧ•Χ¦Χ¨ -->
      <div class="product-card"> <!-- Χ›Χ¨ΧΧ™Χ΅ Χ©Χ ΧΧ•Χ¦Χ¨ ΧΧ—Χ“ -->
        <% if (product.picname) { %> <!-- Χ‘Χ“Χ™Χ§Χ” ΧΧ Χ§Χ™Χ™ΧΧ ΧΧΧ•Χ Χ” -->
          <img src="/images/<%= product.picname %>" alt="<%= product.pname %>" /> <!-- Χ”Χ¦Χ’Χ ΧΧΧ•Χ Χ” -->
        <% } %>
        <h3><%= product.pname %></h3> <!-- Χ©Χ Χ”ΧΧ•Χ¦Χ¨ -->
        <p class="price">β‚<%= product.price %></p> <!-- ΧΧ—Χ™Χ¨ Χ”ΧΧ•Χ¦Χ¨ -->

        <!-- β… Χ›Χ¤ΧΧ•Χ¨ ΧΧ”Χ•Χ΅Χ¤Χ” ΧΧΆΧ’ΧΧ” -->
        <form action="/cart/add" method="POST">
          <input type="hidden" name="pid" value="<%= product.pid %>" /> <!-- ΧΧ–Χ”Χ” ΧΧ•Χ¦Χ¨ ΧΧ•Χ΅ΧΧ¨ -->
          <button type="submit" class="add-to-cart-btn">Χ”Χ•Χ΅Χ£ ΧΧΆΧ’ΧΧ”</button> <!-- Χ›Χ¤ΧΧ•Χ¨ Χ”Χ•Χ΅Χ¤Χ” -->
        </form>
      </div>
    <% }) %>
  </div>
<% } %>

<%- include('../partials/footer') %> <!-- Χ›Χ•ΧΧ ΧΧ Χ”ΦΎfooter Χ©Χ Χ”Χ“Χ£ -->
