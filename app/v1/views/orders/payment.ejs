<%- include('../partials/header') %>
<%- include('../partials/navbar') %>

<!-- 拽砖专 CSS 注爪  注 转砖 -->
<link rel="stylesheet" href="/styles/global.css">
<link rel="stylesheet" href="/styles/payment.css">

<!-- 拽专 专砖 注 转砖 -->
<div class="payment-container">

  <!-- 转专转 注 -->
  <h1>Ь 转砖 注 </h1>

  <!-- 驻住 转砖 -->
  <form action="/order/confirm" method="POST" class="payment-form">

    <!-- 砖  注   -->
    <input type="hidden" name="orderId" value="<%= orderId %>" />

    <!-- 砖 砖 注 专住 -->
    <div class="form-group">
      <label for="cardName">砖 注 专住:</label>
      <input
        type="text"
        id="cardName"
        name="cardName"
        placeholder="': 砖专 砖专"
        required
      />
    </div>

    <!-- 砖 住驻专 专住 注 注爪 转  拽 -->
    <div class="form-group">
      <label for="cardNumber">住驻专 专住:</label>
      <input
        type="text"
        id="cardNumber"
        name="cardNumber"
        placeholder="1234 5678 9012 3456"
        maxlength="19"
        required
        oninput="formatCardNumber(this)"
      />
    </div>

    <!-- 砖专转 砖转: 转拽祝 志CVV -->
    <div class="form-row">
      <!-- 砖 转拽祝 -->
      <div class="form-group half">
        <label for="expiry">转拽祝:</label>
        <input
          type="text"
          id="expiry"
          name="expiry"
          placeholder="MM/YY"
          required
        />
      </div>

      <!-- 砖 CVV -->
      <div class="form-group half">
        <label for="cvv">CVV:</label>
        <input
          type="text"
          id="cvv"
          name="cvv"
          placeholder="123"
          pattern="\d{3}"
          required
        />
      </div>
    </div>

    <!-- 驻转专 砖 -->
    <button type="submit" class="btn-pay"> 砖 注砖</button>

  </form>
</div>

<!-- 住拽专驻 注爪 住驻专 专住 转  拽 -->
<script>
  function formatCardNumber(input) {
    // 住专  转 砖  住驻专
    const raw = input.value.replace(/\D/g, '');

    // 拽  4 住驻专转 注 专 
    const formatted = raw.match(/.{1,4}/g)?.join(' ') ?? '';

    // 专 转 注专 注爪 砖
    input.value = formatted;
  }
</script>

<%- include('../partials/footer') %>
